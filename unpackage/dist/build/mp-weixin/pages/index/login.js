(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/login"],{"0b26":function(n,e,o){},"152f":function(n,e,o){"use strict";o.d(e,"b",(function(){return u})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return t}));var t={uniPopup:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-popup/uni-popup")]).then(o.bind(null,"98ae"))}},u=function(){var n=this,e=n.$createElement;n._self._c;n._isMounted||(n.e0=function(e){return n.$refs.popup.close()})},i=[]},"1f84":function(n,e,o){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=c(o("1d12")),u=c(o("1ef0")),i=c(o("ed59"));function c(n){return n&&n.__esModule?n:{default:n}}var r=function(){Promise.all([o.e("common/vendor"),o.e("components/uni-popup/uni-popup")]).then(function(){return resolve(o("98ae"))}.bind(null,o)).catch(o.oe)},a=function(){o.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(o("a710"))}.bind(null,o)).catch(o.oe)},f={components:{uniPopup:r,uniPopupDialog:a},data:function(){return{code:"",mobile:"",userId:""}},onLoad:function(){var e=this;n.login({provider:"weixin",success:function(n){n&&n.code&&(e.code=n.code,console.log(n.code))},fail:function(n){console.log(n)}})},methods:{confirm:function(e,o){this.mobile=o;var c=/^((13\d)|(14[5,7,9])|(15[0-3,5-9])|(166)|(17[0,1,3,5,6,7,8])|(18[0-9])|(19[8,9]))\d{8}/;if(!c.test(this.mobile))return i.default.showToast("手机号码有误"),!1;var r=this;n.login({provider:"weixin",success:function(e){e&&e.code&&u.default.login(e.code,r.mobile).then((function(e){JSON.parse(e.success)?(t.default.setUserInfo(JSON.parse(e.data)),n.redirectTo({url:"/pages/index/index"})):i.default.showToast(e.message)}))},fail:function(n){console.log(n)}})},dologin:function(e,o){var i=this;o?u.default.login(this.code).then((function(e){e.data?(t.default.setUserInfo(JSON.parse(e.data)),n.redirectTo({url:"/pages/index/index"})):i.$refs.popup.open()})):n.redirectTo({url:"/pages/index/index"})}}};e.default=f}).call(this,o("543d")["default"])},"23ce":function(n,e,o){"use strict";var t=o("0b26"),u=o.n(t);u.a},"457c":function(n,e,o){"use strict";o.r(e);var t=o("1f84"),u=o.n(t);for(var i in t)"default"!==i&&function(n){o.d(e,n,(function(){return t[n]}))}(i);e["default"]=u.a},"884f":function(n,e,o){"use strict";(function(n){o("5018");t(o("66fd"));var e=t(o("c981"));function t(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,o("543d")["createPage"])},c981:function(n,e,o){"use strict";o.r(e);var t=o("152f"),u=o("457c");for(var i in u)"default"!==i&&function(n){o.d(e,n,(function(){return u[n]}))}(i);o("23ce");var c,r=o("f0c5"),a=Object(r["a"])(u["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],c);e["default"]=a.exports}},[["884f","common/runtime","common/vendor"]]]);